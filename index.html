<!DOCTYPE html>
<html lang="de">
<head>
Â  <meta charset="UTF-8">
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
Â  <title>Bierzelt Rechner</title>
Â  <style>
Â  Â  body {
Â  Â  Â  font-family: sans-serif;
Â  Â  Â  padding: 1rem;
Â  Â  Â  max-width: 600px;
Â  Â  Â  margin: auto;
Â  Â  Â  font-size: 1.1rem;
Â  Â  }
Â  Â  h1, h2 {
Â  Â  Â  text-align: center;
Â  Â  Â  font-size: 2rem;
Â  Â  }
Â  Â  h2 {
Â  Â  Â  Â  font-size: 1.6rem;
Â  Â  }
Â  Â  .item, .drink-row {
Â  Â  Â  display: flex;
Â  Â  Â  align-items: center;
Â  Â  Â  margin: 0.6rem 0;
Â  Â  Â  gap: 0.5rem;
Â  Â  }
Â  Â  .item .name, .drink-row .label {
Â  Â  Â  flex: 1;
Â  Â  Â  font-size: 1.2rem;
Â  Â  }
Â  Â  button {
Â  Â  Â  padding: 0.6rem 1.2rem;
Â  Â  Â  font-size: 1.1rem;
Â  Â  Â  border: none;
Â  Â  Â  border-radius: 6px;
Â  Â  Â  background: #e0e0e0;
Â  Â  }
Â  Â  button:active {
Â  Â  Â  background: #bdbdbd;
Â  Â  }
Â  Â  .count, .person-sum {
Â  Â  Â  width: 3rem;
Â  Â  Â  text-align: center;
Â  Â  Â  font-size: 1.2rem;
Â  Â  }
Â  Â  .person-card {
Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  padding: 1rem;
Â  Â  Â  margin-top: 1.2rem;
Â  Â  Â  border-radius: 8px;
Â  Â  }
Â  Â  .person-title-row {
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  margin-bottom: 0.8rem;
Â  Â  }
Â  Â  .summary {
Â  Â  Â  margin-top: 0.8rem;
Â  Â  Â  font-weight: bold;
Â  Â  Â  font-size: 1.3rem;
Â  Â  }
Â  Â  .unassigned, .done {
Â  Â  Â  font-size: 1.2rem;
Â  Â  }
Â  Â  .unassigned {
Â  Â  Â  color: #d32f2f;
Â  Â  }
Â  Â  .done {
Â  Â  Â  color: #2e7d32;
Â  Â  }
Â  Â  #reset {
Â  Â  Â  width: 100%;
Â  Â  Â  margin-top: 1.5rem;
Â  Â  Â  padding: 1rem;
Â  Â  Â  font-size: 1.2rem;
Â  Â  Â  background: #f44336;
Â  Â  Â  color: #fff;
Â  Â  }
Â  Â  #reset:active {
Â  Â  Â  background: #d32f2f;
Â  Â  }

Â  Â  .delete-person-btn {
Â  Â  Â  background: none;
Â  Â  Â  border: none;
Â  Â  Â  color: #757575;
Â  Â  Â  font-size: 1.1rem;
Â  Â  Â  padding: 0 0.5rem;
Â  Â  Â  cursor: pointer;
Â  Â  Â  font-weight: normal;
Â  Â  }
Â  Â  .delete-person-btn:active {
Â  Â  Â  color: #424242;
Â  Â  }

Â  Â  /* SonderwÃ¼nsche Textfeld */
Â  Â  .special-requests-container {
Â  Â  Â  margin-top: 2rem;
Â  Â  Â  padding: 1rem;
Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  border-radius: 8px;
Â  Â  }
Â  Â  .special-requests-container h2 {
Â  Â  Â  margin-top: 0;
Â  Â  Â  text-align: left;
Â  Â  }
Â  Â  textarea {
Â  Â  Â  width: calc(100% - 10px);
Â  Â  Â  min-height: 80px;
Â  Â  Â  padding: 5px;
Â  Â  Â  border: 1px solid #ddd;
Â  Â  Â  border-radius: 4px;
Â  Â  Â  font-size: 1rem;
Â  Â  Â  box-sizing: border-box;
Â  Â  }

Â  Â  /* Bedienung Name Input */
Â  Â  .waitstaff-section {
Â  Â  Â  margin-bottom: 1.5rem;
Â  Â  Â  text-align: center;
Â  Â  }
Â  Â  .waitstaff-section label {
Â  Â  Â  display: block;
Â  Â  Â  margin-bottom: 0.5rem;
Â  Â  Â  font-size: 1.2rem;
Â  Â  Â  font-weight: bold;
Â  Â  }
Â  Â  .waitstaff-section input[type="text"] {
Â  Â  Â  width: calc(100% - 2rem);
Â  Â  Â  padding: 0.8rem;
Â  Â  Â  font-size: 1.2rem;
Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  border-radius: 6px;
Â  Â  Â  text-align: center;
Â  Â  }
Â  Â  .order-id-display {
Â  Â  Â  Â  margin-top: 1rem;
Â  Â  Â  Â  font-size: 1.1rem;
Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  color: #555;
Â  Â  }

Â  Â  /* Media Queries fÃ¼r kleinere Bildschirme (z.B. Mobiltelefone) */
Â  Â  @media (max-width: 480px) {
Â  Â  Â  body {
Â  Â  Â  Â  font-size: 1.2rem;
Â  Â  Â  }
Â  Â  Â  h1 {
Â  Â  Â  Â  font-size: 2.2rem;
Â  Â  Â  }
Â  Â  Â  h2 {
Â  Â  Â  Â  font-size: 1.8rem;
Â  Â  Â  }
Â  Â  Â  .item {
Â  Â  Â  Â  align-items: center;
Â  Â  Â  }
Â  Â  Â  .item, .drink-row {
Â  Â  Â  Â  gap: 0.4rem;
Â  Â  Â  }
Â  Â  Â  .item .name, .drink-row .label {
Â  Â  Â  Â  font-size: 1.3rem;
Â  Â  Â  }
Â  Â  Â  button {
Â  Â  Â  Â  padding: 0.7rem 1.4rem;
Â  Â  Â  Â  font-size: 1.2rem;
Â  Â  Â  }
Â  Â  Â  .count {
Â  Â  Â  Â  width: 3.5rem;
Â  Â  Â  Â  font-size: 1.3rem;
Â  Â  Â  }
Â  Â  Â  .summary {
Â  Â  Â  Â  font-size: 1.4rem;
Â  Â  Â  }
Â  Â  Â  .unassigned, .done {
Â  Â  Â  Â  font-size: 1.3rem;
Â  Â  Â  }
Â  Â  Â  #reset {
Â  Â  Â  Â  padding: 1.2rem;
Â  Â  Â  Â  font-size: 1.3rem;
Â  Â  Â  }
Â  Â  Â  .delete-person-btn {
Â  Â  Â  Â  font-size: 1.2rem;
Â  Â  Â  Â  padding: 0 0.6rem;
Â  Â  Â  }
Â  Â  Â  .waitstaff-section input[type="text"] {
Â  Â  Â  Â  width: calc(100% - 1.5rem);
Â  Â  Â  }
Â  Â  }
Â  </style>
  Â  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
Â  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database-compat.js"></script>
</head>
<body>

<h1>Bierzelt Rechner</h1>

<div class="waitstaff-section">
Â  <label for="waitstaffName">Name der Bedienung:</label>
Â  <input type="text" id="waitstaffName" placeholder="Hier Namen eingeben" oninput="updateWaitstaffName(this.value)">
Â  <div class="order-id-display">Bestell-Nr. fÃ¼r diesen Tisch: <span id="currentOrderIdDisplay"></span></div>
</div>

<h2>1. Bestellung erfassen:</h2>
<div id="order-section"></div>

<div class="special-requests-container">
Â  <h2>SonderwÃ¼nsche</h2>
Â  <textarea id="specialRequests" placeholder="Hier kÃ¶nnen Sie spezielle Anmerkungen oder WÃ¼nsche eingeben..." oninput="updateSpecialRequests(this.value)"></textarea>
</div>

<h2>2. Personen zuordnen:</h2>
<div id="persons"></div>
<button id="addPersonBtn" onclick="addPerson()">â• Person&nbsp;hinzufÃ¼gen</button>

<h2>Noch&nbsp;ausstehend</h2>
<div id="remaining"></div>

<button id="reset" onclick="resetAll()">ZurÃ¼cksetzen</button>

<script>
// === Firebase Initialisierung - WICHTIG: Dies ist die kompatible Syntax ===
const firebaseConfig = {
  apiKey: "AIzaSyDz7S1YcdJ7Tm3F7YLUpT61esfDlIbAH08",
  authDomain: "bierzelt-rechner.firebaseapp.com",
  databaseURL: "https://bierzelt-rechner-default-rtdb.europe-west1.firebasedatabase.app",
  projectId: "bierzelt-rechner",
  storageBucket: "bierzelt-rechner.firebasestorage.app",
  messagingSenderId: "322991437255",
  appId: "1:322991437255:web:74a25783bf98433a0fd5e2"
};

// Initialisiere Firebase mit der kompatiblen SDK-Syntax
firebase.initializeApp(firebaseConfig);

// Hole einen Referenz auf die Realtime Database
const db = firebase.database();
// ===========================================

const DRINKS=[
Â  // Alkoholische Biere & Radler
Â  {key:"mass_bier", Â  name:"ğŸº MaÃŸ Bier", Â  Â  Â  Â  Â  price:8.9},
Â  {key:"halbe_bier", Â name:"ğŸ» Halbe Bier", Â  Â  Â  Â  price:4.8},
Â  {key:"mass_radler", name:"ğŸºğŸ‹ MaÃŸ Radler", Â  Â  Â  Â  price:8.9},
Â  {key:"halbe_radler",name:"ğŸ»ğŸ‹ Halbe Radler", Â  Â  Â  price:4.8},
Â  // Alkoholfreie Biere & Radler
Â  {key:"mass_bier_alkfrei", Â  name:"ğŸº MaÃŸ Bier Alkoholfrei", Â  price:8.9},
Â  {key:"halbe_bier_alkfrei", Â name:"ğŸ» Halbe Bier Alkoholfrei", price:4.8},
Â  {key:"mass_radler_alkfrei", name:"ğŸºğŸ‹ MaÃŸ Radler Alkoholfrei", price:8.9},
Â  {key:"halbe_radler_alkfrei",name:"ğŸ»ğŸ‹ Halbe Radler Alkoholfrei", price:4.8},
Â  // Wein & Aperol
Â  {key:"weinschorle", name:"ğŸ· Weinschorle", Â  Â  Â  Â  price:4.6},
Â  {key:"aperol", Â  Â  Â name:"ğŸŠ Aperol", Â  Â  Â  Â  Â  Â  price:6.0},
Â  // Softdrinks & Wasser
Â  {key:"apfelschorle",name:"ğŸ Apfelschorle", Â  Â  Â  price:3.2},
Â  {key:"limo_gelb", Â  name:"ğŸ‹ Limo gelb", Â  Â  Â  Â  Â price:3.2},
Â  {key:"limo_weiss", Â name:"âšªï¸ Limo weiÃŸ", Â  Â  Â  Â  Â price:3.2},
Â  {key:"spezi", Â  Â  Â  name:"ğŸ¥¤ Spezi", Â  Â  Â  Â  Â  Â  Â price:3.2},
Â  {key:"wasser", Â  Â  Â name:"ğŸ’§ Wasser", Â  Â  Â  Â  Â  Â  price:3.2}
];

const drinkMap=Object.fromEntries(DRINKS.map(d=>[d.key,d]));

const order={};
DRINKS.forEach(d=>order[d.key]=0);

let persons=[];
let currentWaitstaffName = localStorage.getItem('waitstaffName') || ''; // Name aus Local Storage laden
let currentOrderId = localStorage.getItem('currentOrderId') || generateUniqueId(); // ID aus Local Storage laden oder neu generieren
let specialRequestsText = localStorage.getItem('specialRequestsText') || ''; // SonderwÃ¼nsche laden

// Setzt die initiale Bedienung und Bestell-ID
document.addEventListener('DOMContentLoaded', () => {
Â  Â  document.getElementById('waitstaffName').value = currentWaitstaffName;
Â  Â  document.getElementById('currentOrderIdDisplay').textContent = currentOrderId;
Â  Â  document.getElementById('specialRequests').value = specialRequestsText;
Â  Â  renderOrder(); // Initial render for the order section
});


function generateUniqueId() {
Â  Â  return 'order_' + Math.random().toString(36).substr(2, 9);
}

function updateWaitstaffName(name) {
Â  Â  currentWaitstaffName = name;
Â  Â  localStorage.setItem('waitstaffName', name);
Â  Â  // === Firebase Update ===
Â  Â  db.ref('bierzelt/orders/' + currentOrderId + '/waitstaffName').set(currentWaitstaffName);
Â  Â  // =======================
}

function updateSpecialRequests(text) {
Â  Â  specialRequestsText = text;
Â  Â  localStorage.setItem('specialRequestsText', text);
Â  Â  // === Firebase Update ===
Â  Â  db.ref('bierzelt/orders/' + currentOrderId + '/specialRequests').set(specialRequestsText);
Â  Â  // =======================
}


// Initial eine Person hinzufÃ¼gen, wenn die Seite geladen wird
// Dies wird jetzt von DOMContentLoaded gerufen, um sicherzustellen, dass die ID korrekt ist
if (persons.length === 0) { // Nur hinzufÃ¼gen, wenn noch keine Personen da sind
Â  Â  addPerson();Â 
}


function format(eur){return eur.toFixed(2).replace('.',',')+' â‚¬'}

function renderOrder(){
Â  const el=document.getElementById('order-section');
Â  el.innerHTML='';
Â  let totalOrderSum = 0;

Â  DRINKS.forEach(d=>{
Â  Â  const div=document.createElement('div');
Â  Â  div.className='item';
Â  Â  div.innerHTML=`<span class="name">${d.name} (${format(d.price)})</span>
Â  Â  Â  <button onclick="changeOrder('${d.key}',-1)">âˆ’</button>
Â  Â  Â  <span class="count" id="order-${d.key}">${order[d.key]}</span>
Â  Â  Â  <button onclick="changeOrder('${d.key}',1)">+</button>`;
Â  Â  el.appendChild(div);

Â  Â  totalOrderSum += order[d.key] * d.price;
Â  });
Â  el.innerHTML+=`<div class="summary"><strong>Gesamtsumme Bestellung: ${format(totalOrderSum)}</strong></div>`;

Â  renderAll(); // Ruft renderPersons und renderRemaining auf
Â  // === Firebase Update ===
Â  db.ref('bierzelt/orders/' + currentOrderId + '/orderQuantities').set(order);
Â  // =======================
}

function changeOrder(key,delta){
Â  order[key]=Math.max(0,order[key]+delta);
Â  document.getElementById('order-'+key).textContent=order[key];
Â  adjustAssignmentsAfterOrderChange(key);
Â  renderAll();
}

function adjustAssignmentsAfterOrderChange(key){
Â  let available=order[key];
Â  persons.forEach(p=>{
Â  Â  if(p.drinks[key]>available){
Â  Â  Â  p.drinks[key]=available;
Â  Â  }
Â  Â  available-=p.drinks[key];
Â  });
Â  // === Firebase Update ===
Â  db.ref('bierzelt/orders/' + currentOrderId + '/persons').set(persons);
Â  // =======================
}

function addPerson(){
Â  const id = persons.length > 0 ? Math.max(...persons.map(p => p.id)) + 1 : 0;
Â  const person={id,name:`Person ${id+1}`,drinks:{}};
Â  DRINKS.forEach(d=>person.drinks[d.key]=0);
Â  persons.push(person);
Â  renderAll();
Â  autoAssignRemainingDrinks(id);
Â  // === Firebase Update ===
Â  db.ref('bierzelt/orders/' + currentOrderId + '/persons').set(persons);
Â  // =======================
}

function confirmDeletePerson(personId) {
Â  const person = persons.find(p => p.id === personId);
Â  if (!person) return;

Â  const confirmation = confirm(`MÃ¶chten Sie ${person.name} wirklich lÃ¶schen? Alle zugewiesenen GetrÃ¤nke werden freigegeben.`);
Â  if (confirmation) {
Â  Â  deletePerson(personId);
Â  }
}

function deletePerson(personId) {
Â  persons = persons.filter(p => p.id !== personId);
Â  renderAll();
Â  // === Firebase Update ===
Â  db.ref('bierzelt/orders/' + currentOrderId + '/persons').set(persons);
Â  // =======================
}

function autoAssignRemainingDrinks(newPersonId) {
Â  let remainingDrinkKey = null;
Â  let remainingAmount = 0;
Â  let countOfDrinksWithRemaining = 0;

Â  DRINKS.forEach(d => {
Â  Â  const totalOrdered = order[d.key];
Â  Â  const assignedAcrossAllPersons = persons.reduce((s, per) => s + per.drinks[d.key], 0);
Â  Â  const leftUnassigned = totalOrdered - assignedAcrossAllPersons;

Â  Â  if (leftUnassigned > 0) {
Â  Â  Â  countOfDrinksWithRemaining++;
Â  Â  Â  remainingDrinkKey = d.key;
Â  Â  Â  remainingAmount = leftUnassigned;
Â  Â  }
Â  });

Â  if (countOfDrinksWithRemaining === 1 && remainingDrinkKey !== null && remainingAmount > 0) {
Â  Â  const newPerson = persons.find(p => p.id === newPersonId);
Â  Â  if (newPerson) {
Â  Â  Â  newPerson.drinks[remainingDrinkKey] += 1;
Â  Â  Â  renderAll();
Â  Â  Â  // === Firebase Update ===
Â  Â  Â  db.ref('bierzelt/orders/' + currentOrderId + '/persons').set(persons);
Â  Â  Â  // =======================
Â  Â  }
Â  }
}

function changePersonDrink(personId,key,delta){
Â  const p=persons.find(x=>x.id===personId);
Â  if(!p) return;

Â  const totalOrdered = order[key];
Â  const assignedAcrossAllPersons = persons.reduce((s, per) => s + per.drinks[key], 0);

Â  if(delta > 0){
Â  Â  if (assignedAcrossAllPersons >= totalOrdered) return;
Â  }

Â  p.drinks[key]=Math.max(0,p.drinks[key]+delta);
Â  renderAll();
Â  // === Firebase Update ===
Â  db.ref('bierzelt/orders/' + currentOrderId + '/persons').set(persons);
Â  // =======================
}

function renderAll(){
Â  renderPersons();
Â  renderRemaining();
}

function renderPersons(){
Â  const container=document.getElementById('persons');
Â  container.innerHTML='';
Â  persons.forEach(p=>{
Â  Â  const card=document.createElement('div');
Â  Â  card.className='person-card';
Â  Â Â 
Â  Â  let personTitleHtml = `<div class="person-title-row">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <strong>${p.name}</strong>`;
Â  Â Â 
Â  Â  if (persons.length > 1 && p.id !== 0) {Â 
Â  Â  Â  personTitleHtml += `<button class="delete-person-btn" onclick="confirmDeletePerson(${p.id})">âœ–</button>`;
Â  Â  }
Â  Â  personTitleHtml += `</div>`;
Â  Â  card.innerHTML = personTitleHtml;

Â  Â  let sum=0;
Â  Â  DRINKS.forEach(d=>{
Â  Â  Â  const totalOrdered = order[d.key];
Â  Â  Â  const assignedAcrossAllPersons = persons.reduce((s, per) => s + per.drinks[d.key], 0);
Â  Â  Â  const leftUnassigned = totalOrdered - assignedAcrossAllPersons;

Â  Â  Â  if ( (totalOrdered > 0 && leftUnassigned > 0) || (p.drinks[d.key] > 0) ) {
Â  Â  Â  Â  const c=p.drinks[d.key];
Â  Â  Â  Â  sum+=c*d.price;
Â  Â  Â  Â  card.innerHTML+=`<div class="drink-row">
Â  Â  Â  Â  Â  <span class="label">${d.name}</span>
Â  Â  Â  Â  Â  <button onclick="changePersonDrink(${p.id},'${d.key}',-1)">âˆ’</button>
Â  Â  Â  Â  Â  <span class="count">${c}</span>
Â  Â  Â  Â  Â  <button onclick="changePersonDrink(${p.id},'${d.key}',1)">+</button>
Â  Â  Â  Â  </div>`;
Â  Â  Â  }
Â  Â  });
Â  Â  card.innerHTML+=`<div class="summary">Summe: ${format(sum)}</div>`;
Â  Â  container.appendChild(card);
Â  });

Â  document.getElementById('addPersonBtn').style.display = 'block';
}

function renderRemaining(){
Â  const div=document.getElementById('remaining');
Â  div.innerHTML='';
Â  DRINKS.forEach(d=>{
Â  Â  const total=order[d.key];
Â  Â  if (total > 0) {
Â  Â  Â  const assigned=persons.reduce((s,p)=>s+p.drinks[d.key],0);
Â  Â  Â  const left=total-assigned;
Â  Â  Â  const cls=left===0?'done':'unassigned';
Â  Â  Â  div.innerHTML+=`<div class="${cls}">${d.name}: ${left} ${left===0?'âœ”ï¸':'ausstehend'}</div>`;
Â  Â  }
Â  });
}

function resetAll(){
Â  DRINKS.forEach(d=>order[d.key]=0);
Â  persons=[];
Â  addPerson(); // FÃ¼gt die erste Person wieder hinzu
Â  
Â  // Speichern der alten ID, bevor eine neue generiert wird, falls benÃ¶tigt
Â  // const oldOrderId = currentOrderId;

Â  currentOrderId = generateUniqueId(); // Neue Bestell-ID generieren
Â  localStorage.setItem('currentOrderId', currentOrderId); // Im Local Storage speichern
Â  document.getElementById('currentOrderIdDisplay').textContent = currentOrderId; // Anzeige aktualisieren
Â Â 
Â  specialRequestsText = ''; // SonderwÃ¼nsche leeren
Â  localStorage.setItem('specialRequestsText', '');
Â  document.getElementById('specialRequests').value = '';

Â  renderOrder(); // Gesamte Ansicht neu rendern

Â  // === Firebase Update (Konzept) ===
Â  // Hier wÃ¼rde man die alte Bestellgruppe in Firebase als "abgeschlossen" markieren
Â  // oder lÃ¶schen und eine neue unter der neuen currentOrderId erstellen.
Â  // Option 1: LÃ¶schen der alten Bestellung (wenn Sie sie nicht mehr benÃ¶tigen)
Â  // if (oldOrderId) { db.ref('bierzelt/orders/' + oldOrderId).remove(); }
Â  // Option 2: Setzen eines Status (empfohlen, um Historie zu behalten)
Â  // if (oldOrderId) { db.ref('bierzelt/orders/' + oldOrderId + '/status').set('completed'); }

Â  db.ref('bierzelt/orders/' + currentOrderId).set({
Â  Â  waitstaffName: currentWaitstaffName,
Â  Â  orderQuantities: order,
Â  Â  persons: persons,
Â  Â  specialRequests: specialRequestsText,
Â  Â  status: 'active',
Â  Â  timestamp: new Date().toISOString()
Â  });
Â  // ===================================
}

// Initialer Render-Aufruf beim Laden der Seite
document.addEventListener('DOMContentLoaded', () => {
Â  Â  // Werte aus localStorage wiederherstellen
Â  Â  currentWaitstaffName = localStorage.getItem('waitstaffName') || '';
Â  Â  currentOrderId = localStorage.getItem('currentOrderId') || generateUniqueId();
Â  Â  specialRequestsText = localStorage.getItem('specialRequestsText') || '';

Â  Â  // Felder setzen
Â  Â  document.getElementById('waitstaffName').value = currentWaitstaffName;
Â  Â  document.getElementById('currentOrderIdDisplay').textContent = currentOrderId;
Â  Â  document.getElementById('specialRequests').value = specialRequestsText;

Â  Â  // Nur initial eine Person hinzufÃ¼gen, wenn noch keine Personen geladen wurden
Â  Â  if (persons.length === 0) {
Â  Â  Â  Â  addPerson();
Â  Â  }
Â  Â  renderOrder(); // Ruft auch renderAll auf
});


document.addEventListener('touchend', function (event) {
Â  Â  var now = new Date().getTime();
Â  Â  var lastTouch = event.currentTarget.dataset.lastTouch || now;
Â  Â  var delta = now - lastTouch;
Â  Â  if (delta < 300 && delta > 0) {
Â  Â  Â  Â  event.preventDefault();
Â  Â  }
Â  Â  event.currentTarget.dataset.lastTouch = now;
}, false);

</script>

</body>
</html>
